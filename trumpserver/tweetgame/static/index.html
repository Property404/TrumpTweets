<!DOCTYPE HTML>
<html lang="en">
	<head><title>{{title}}</title>
   <meta charset="utf-8"> 
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-alpha.6/css/bootstrap.min.css" integrity="sha384-rwoIResjU2yc3z8GV/NPeZWAv56rSmLldC3R/AZzGRnGxQQKnKkoFVhFQhNUwEyJ" crossorigin="anonymous">
    <link rel="stylesheet" href="https://abs.twimg.com/a/1487131246/css/t1/twitter_core.bundle.css">
      <link rel="stylesheet" href="https://abs.twimg.com/a/1487131246/css/t1/twitter_more_1.bundle.css">
        <link rel="stylesheet" href="https://abs.twimg.com/a/1487131246/css/t1/twitter_more_2.bundle.css">
    </head>
<body>
	</div>
	<div class="container">
		<div class="row">
		</div>
		<div class="row">
			<div class="col-sm-8 mx-auto">
		<div class = "jumbotron tweet" style="text-align: center">
			
			<img src="http://162.243.109.160:8080/trump.png" height="90px" width="90px">
			<p>
			<h1>Real or FAKE NEWS!?!?</h1>
			<p>
			<p id="tweet">Loading...</p>
			<p>
			<div class="col">
			<a class="btn btn-primary" id="real">Real</a>
			</div>
			<div class="col">
				<a class="btn btn-primary" id="fake">Fake</a>
			</div>
			<div class="col">
				<p id="points">0</p>
			</div>
		</div>
			</div>
		</div>
		<div class="row">
	<div id="alert" class="alert alert-danger" role="alert" hidden>
		<strong id="alert-title"></strong><span id="alert-message"></span>
	</div>
	</div>
	<script src="https://code.jquery.com/jquery-3.1.1.min.js" crossorigin="anonymous"></script>
	<script>
	var points = 0;
	var realbutton = document.getElementById("real");
	var fakebutton = document.getElementById("fake");
	var result;
	function right(){
		points++;
		document.getElementById("points").innerHTML = points;
	}
	function hideButtons(){
		realbutton.setAttribute("hidden","true");
		fakebutton.setAttribute("hidden", "true");
	}
	function showButtons(){
		realbutton.removeAttribute("hidden");
		fakebutton.removeAttribute("hidden");
	}
	$('#alertmodal').on('show.bs.modal', function(event){
		var modal = $(this)
		modal.find('.modal-body').text("WRONG! FAKE NEWS!");
	});
	function wrong(){
		document.getElementById("alert").removeAttribute("hidden");
		document.getElementById("alert-title").innerHTML = "FAKE NEWS";
		document.getElementById("alert-message").innerHTML = "crooked media! Shame!";
	}

	realbutton.addEventListener("click", function(){
		if(result["real"]){
			right();
		}else{
			wrong();
		}
		hideButtons();
		getTweet();
	});
	fakebutton.addEventListener("click", function(){
		if(!result["real"])right();
		hideButtons();
		getTweet();
	});
	function getTweet(){
		hideButtons();
		jQuery.get("/random", function(data){
			console.log(data);
			result = JSON.parse(data);
			document.getElementById("tweet").innerHTML = result["sentence"];
			showButtons();
			
		
		});
	}
	getTweet();
	
	</script>

    <!-- Bootstrap core JavaScript
	        ================================================== -->
		    <!-- Placed at the end of the document so the pages load faster -->
        <script>window.jQuery || document.write('<script src="../../assets/js/vendor/jquery.min.js"><\/script>')</script>
			        <script src="https://cdnjs.cloudflare.com/ajax/libs/tether/1.4.0/js/tether.min.js" integrity="sha384-DztdAPBWPRXSA/3eYEEUWrWCy7G5KFbe8fFjk5JAIxUYHKkDx6Qin1DkWx51bBrb" crossorigin="anonymous"></script>
</body>
</html>
